#include <QObject>
#include <QCoreApplication>
#include <QDebug>
#include <iostream>

using namespace std;

class MyClass : public QObject {
    Q_OBJECT

public:
    MyClass(QObject* parent = nullptr);

    void raiseMySignal();

signals:
    void mySignal();

public slots:
    void mySlot();
};

MyClass::MyClass(QObject *parent) : QObject(parent) {
    connect(this, &MyClass::mySignal, this, &MyClass::mySlot);
}

void MyClass::raiseMySignal()
{
    qDebug() << "raiseMySignal: Lähetetään signaali...";
    emit mySignal();
}

void MyClass::mySlot()
{
    qDebug() << "mySlot:ia kutsuttiin";
}

int main(int argc, char *argv[])
{
    QCoreApplication a(argc, argv);

    MyClass myObject;

    qDebug() << "main: Kutsutaan raiseMySignal()...";

    myObject.raiseMySignal();

    qDebug() << "main: Palataan main-funktioon.";

    return 0;
}
